# 分布式温控系统软件需求规格说明书

1．引言（10分）
===============

1.1编写目的（3分）
------------------

软件需求规格说明书的内容和软件需求分析的最终成果将体现在本文档中。本文档主要方法是为了对分布式温控系统进行数据流的建模，从而，更加明确软件需求，用户需求，是软件需求分析的最后一步，同时也是非常重要的一步。通过对数据流的分析建模描述，使得用户的需求更加明晰，软件设计目标也更加清楚，从而更能满足用户的需求，为后续的软件设计提供详细的规格化的说明。

1.2项目背景（2分）
------------------

随着旅游人数的上升，人们对酒店的需求开始上升，但同时酒店数目也在上升，很多酒店都以低廉的价格来吸引住客，但是很多价格低廉的酒店并没有考虑到顾客的体会，大多数都是做的一次性生意，并不希望留住顾客。所以就有快捷酒店想通过这个分布式温控系统来提升住客的体验，同时不用投入太多的能耗和管理资源。本项目受某酒店管理部门委托，由北京邮电大学计算机学院2015211303班xx组负责开发。

1.3词汇（3分）
--------------

|专业术语/缩写词| 原文含义|
|------------------| ------------------------------------------------|
|数据流图/DFD|它从数据传递和加工角度，以图形方式来表达系统的逻辑功能、数据在系统内部的逻辑流向和逻辑变换过程，是结构化系统分析方法的主要表达工具及用于表示软件模型的一种图示方法。|
|数据词典 (DD，Data Dictionary)|数据词典的作用是对于数据流图中出现的所有被命名的图形元素在数据词典中作为一个词条加以定义，使得每一个图形元素的名字都有一个确切的解释。|
|外部实体|外部实体指系统以外，又和系统有联系的人或事物，它说明了数据的外部来源和去处，属于系统的外部和系统的界面。|
|数据流|只能以事先规定好的顺序被读取一次的数据的一个序列。|
|数据元素|它是数据的基本单位，数据元素也叫做结点或记录。在计算机程序中通常作为一个整体进行考虑和处理。有时，一个数据元素可由若干个数据项组成，例如，一本书的书目信息为一个数据元素，而书目信息的每一项（如书名、作者名等）为一个数据项。数据项是数据的不可分割的最小单位。|
|实体关系图/ER图|E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。|
|基数（Cardinality）|数据模型必须能够表示在一个给定的关系中实体出现的次数，即对象---关系对的基数。基数是关于一个（实体）可以与另一个（实体）出现次数相关联的规约。|

1.4书写规范（2分）
------------------

文档通过结构化需求分析，主要使用数据流图、数据词典、ER图等工具，从而表达出软件的数据模型，各对象之间的关系和功能模型。

2．系统概述（10分）
===================

2.1系统建设目标（4分）
----------------------

根据用户提供的需求书内容，描述系统建设的总体和分阶段目标。

总体目标，实现分布式温控系统的所有功能，使得用户和管理员都能够通过温控系统调节室温，同时方便管理员进行管理。

第一阶段：分别对中央空调和从控机进行分别开发，能够实现各自的独立的功能。

第二阶段：建立中央空调和从控机之间的联系，使得中央空调和分机之间能够协调工作。

第三阶段：增加一些用户要求的附加功能，使得系统更加方便，友好，易用。

第四阶段：对软件进行测试维护，保证软件的高可靠性。

2.2系统运行环境（3分）
----------------------

最低配置：

​	CPU 1000MHZ及以上

​	内存 1GB及以上

​	硬盘 16GB以上可用空间

​	显卡 集成显卡64MB以上

推荐配置：

​	CPU 2.0GHZ及以上

​	内存 1G DDR及以上

​	硬盘 40GB以上可用空间

显卡：

​	显卡支持DirectX 9、WDDM1.1或更高版本（显存大于128MB）

系统要求：

​	Windows7以上、 MacOS10.11以上 或者Red Hat Enterprise Linux 6.6、Ubuntu 16.04 (x86\_64)等

2.3条件和限制（3分）
--------------------

1.  和酒店管理方协调好关系，避免酒店方单方面撕毁合同。

2.  小组各个成员配合完成软件，保证软件按时交付。

3.  查询相关开源软件的使用规定，是否允许商业使用，避免产生法律纠纷。

4.  保证客户硬件质量完好，系统没有病毒，能够正常运行软件程序。

3．系统功能需求（79分）
=======================

3.1业务背景描述（6分）
----------------------

根据酒店方面提出的要求，经过需求分析，产生以下的分布式温控系统。该系统在减少能耗的同时也能提供更高质量的服务。

借助本系统，酒店管理方可以很方便的进行中央空调系统的调度和控制。房客可以根据自己的需求调节房间温度。另外，系统还提供了能耗计算、费用统计、报表生成等功能，极大的方便了酒店的管理与运营，节省了人力成本，减少了酒店的维护管理开支。

3.2系统功能需求（50分，数据流图和数据词典各占25分）
---------------------------------------------------

### 3.2.1第0层数据流图

#### 3.2.1.1数据流图

分布式温控系统顶层数据流图![](media/image1.png){width="5.768055555555556in"
height="4.377083333333333in"}

#### 3.2.1.2数据词典

1.  外部实体

| 1.外部实体   ||
|--------------|--------------------------------|
|外部实体名称|住客|
|简要描述|酒店住户，对房间内空调进行操作 |
|有关数据流|开、关空调|
|              | 设置温度                       |
|              | 设置模式                       |
|              | 空调状态查询                   |
| 备注         |                                |

| 1.外部实体   ||
|--------------|----------------------------------------|
| 外部实体名称 | 超级管理员                             |
| 简要描述     | 酒店超级管理员，可以对中央空调进行操作 |
| 有关数据流   | 开、关中央空调                         |
|              | 设置收费标准                           |
|              | 设置控制策略                           |
|              | 空调状态查询                           |
|              | 配置账户权限                           |
| 备注         |                                        |

| 1.外部实体   ||
|--------------|------------------------------------------|
| 外部实体名称 | 普通管理员                               |
| 简要描述     | 酒店普通管理员，对房间的空调生成费用报表 |
| 有关数据流   | 获取费用信息                             |
|              | 生成费用报表                             |
| 备注         |                                          |
数据流

| 2.数据流   ||
|--------------|------------------------------------------|
| 数据流名称 | 开、关空调                 |
| 简要描述   | 产生原因：住客开、关从控机 |
|            | 结果：空调开启、关闭       |
| 数据流来源 | 住客                       |
| 数据流去向 | 分布式温控系统             |
| 数据流组成 | 开启空调信号、关闭空调信号 |
| 备注       |                            |

| 2.数据流   ||
|--------------|------------------------------------------|
| 数据流名称 | 温度                       |
| 简要描述   | 产生原因：住客设定目标温度 |
|            | 结果：空调调节至目标温度   |
| 数据流来源 | 住客                       |
| 数据流去向 | 分布式温控系统             |
| 数据流组成 | 目标温度                   |
| 备注       |                            |

| 2.数据流   ||
|--------------|------------------------------------------|
| 数据流名称 | 模式                                 |
| 简要描述   | 产生原因：住客设定空调模式           |
|            | 结果：空调调节至目标模式             |
| 数据流来源 | 住客                                 |
| 数据流去向 | 分布式温控系统                       |
| 数据流组成 | 空调工作模式                         |
| 备注       | 工作模式包括空调工作方式、风速、定时 |

| 2.数据流   ||
+============+========================================+
| 数据流名称 | 空调信息                               |
| 简要描述   | 产生原因：住客获取空调信息             |
|            | 结果：住客了解到当前空调信息           |
| 数据流来源 | 住客                                   |
| 数据流去向 | 分布式温控系统                         |
| 数据流组成 | 空调模式、当前温度、目标温度、收费标准 |
| 备注       |                                        |



| 2.数据流   ||
+============+============================================+
| 数据流名称 | 开关中央空调                               |
| 简要描述   | 产生原因：超级管理员请求开启、关闭中央空调 |
|            |                                            |
|            | 结果：中央空调开启、关闭                   |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 分布式温控系统                             |
| 数据流组成 | 开启中央空调信号、关闭中央空调信号         |
| 备注       |                                            |

| 2.数据流   ||
+============+============================================+
| 数据流名称 | 收费标准                                   |
| 简要描述   | 产生原因：超级管理员设置当前收费标准       |
|            |                                            |
|            | 结果：修改当前收费标准并更新收费标准信息表 |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 分布式温控系统                             |
| 数据流组成 | 收费标准                                   |
| 备注       |                                            |

| 2.数据流   |
+============+==================================================+
| 数据流名称 | 空调信息                                         |
| 简要描述   | 产生原因：超级管理员获取中央空调和从控机状态信息 |
|            |                                                  |
|            | 结果：超级管理员了解到当前空调信息               |
| 数据流来源 | 超级管理员                                       |
| 数据流去向 | 分布式温控系统                                   |
| 数据流组成 | 中央空调状态信息                                 |
| 备注       |                                                  |

| 2.数据流   |
+============+================================================+
| 数据流名称 | 控制策略                                       |
| 简要描述   | 产生原因：管理员更改当前中央空调的控制策略     |
|            |                                                |
|            | 结果：修改了当前控制策略和更新了控制策略信息表 |
| 数据流来源 | 超级管理员                                     |
| 数据流去向 | 分布式温控系统                                 |
| 数据流组成 | 控制策略                                       |
| 备注       |                                                |

| 2.数据流   |
+============+========================================+
| 数据流名称 | 账户权限                               |
| 简要描述   | 产生原因：超级管理员给管理员分配权限   |
|            |                                        |
|            | 结果：管理员得到超级管理员所分配的权限 |
| 数据流来源 | 超级管理员                             |
| 数据流去向 | 分布式温控系统                         |
| 数据流组成 | 管理员权限、管理员ID                   |
| 备注       |                                        |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 最大、最小温度                             |
| 简要描述   | 产生原因：超级管理员对最大最小温度进行设置 |
|            |                                            |
|            | 结果：中央空调以设置的最大、最小温度运行   |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 分布式温控系统                             |
| 数据流组成 | 最大温度、最小温度                         |
| 备注       |                                            |

| 2.数据流   |
+============+====================================+
| 数据流名称 | 空调信息系统时间                   |
| 简要描述   | 产生原因：中央空调系统要求系统时间 |
|            |                                    |
|            | 结果：中央空调系统获得系统时间     |
| 数据流来源 | 超级管理员                         |
| 数据流去向 | 分布式温控系统                     |
| 数据流组成 | 系统时间信息                       |
| 备注       |                                    |

| 2.数据流   |
+============+================================================+
| 数据流名称 | 费用报表                                       |
| 简要描述   | 产生原因：普通管理员查询空调状态并生成费用报表 |
|            |                                                |
|            | 结果：生成对应空调的费用报表                   |
| 数据流来源 | 普通管理员                                     |
| 数据流去向 | 分布式温控系统                                 |
| 数据流组成 | 空调状态、收费标准、费用信息                   |
| 备注       |                                                |

3.  数据元素

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调开机信号
  简要描述       位于空调的数据结构内，用来向系统发出信号，开启空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调关机信号
  简要描述       位于空调的数据结构内，用来向系统发出信号，关闭空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   目标温度
  简要描述       位于空调的数据结构内，改变空调的目标温度
  类型           int
  长度           1
  取值范围       最小温度\~最大温度
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调工作模式
  简要描述       位于中央空调的数据结构内，描述了空调当前的工作模式
  类型           int
  长度           1
  取值范围       0、1、2、3
  备注           

  3.数据元素     
  -------------- --------------------------------------------
  数据元素名称   空调风速
  简要描述       位于中央空调的数据结构内，描述空调当前风速
  类型           int
  长度           1
  取值范围       0\~30
  备注           

  3.数据元素     
  -------------- --------------------------------------------
  数据元素名称   空调温度
  简要描述       位于中央空调的数据结构内，描述空调当前温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ------------------------------------------------------------
  数据元素名称   中央空调开机信号
  简要描述       位于中央空调的数据结构内，用来向系统发出信号，开启中央空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ------------------------------------------------------------
  数据元素名称   中央空调关机信号
  简要描述       位于中央空调的数据结构内，用来向系统发出信号，关闭中央空调
  类型           Int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ----------------------------
  数据元素名称   空调耗能
  简要描述       空调目前位置所消耗的能量数
  类型           int
  长度           1
  取值范围       0\~255
  备注           用来计费衡量空调使用量

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   中央空调控制策略
  简要描述       中央空调的控制策略，用来约束空调的温度等
  类型           int
  长度           1
  取值范围       0、1、2、3
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   中央空调总能耗
  简要描述       描述中央空调的总能耗，位于中央空调信息的数据结构中
  类型           int
  长度           1
  取值范围       0\~255
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   最大温度
  简要描述       位于中央空调的数据结构内，设置的当前空调的最大温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   最小温度
  简要描述       位于中央空调的数据结构内，设置的当前空调的最小温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ----------------------------------------------
  数据元素名称   空调ID
  简要描述       位于空调的数据结构内，作为唯一标识空调的ID号
  类型           int
  长度           1
  取值范围       0000\~9999
  备注           

  3.数据元素     
  -------------- ----------------------------------------
  数据元素名称   费用
  简要描述       位于空调的数据结构内，描述当前空调费用
  类型           int
  长度           1
  取值范围       0\~1000
  备注           

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   管理员ID
  简要描述       位于管理员数据结构中，唯一标识管理员身份
  类型           int
  长度           1
  取值范围       000\~999
  备注           

  3.数据元素     
  -------------- ------------------------------------------------
  数据元素名称   管理员权限
  简要描述       位于管理员的数据结构内，描述该管理员的权限范围
  类型           int\[\]
  长度           6
  取值范围       
  备注           6位数组对应位置标识，若为1即为有当前权限

4.  数据文件

  4.数据文件     
  -------------- --------------------------
  数据元素名称   账户权限信息表
  简要描述       存放管理员权限信息的记录
  输入数据       管理员权限
  输出数据       管理员权限
  数据文件组成   管理员ID+管理员权限数组
  存储方式       一个ID字符串一个权限数组
  备注           

  4.数据文件     
  -------------- ------------------------
  数据元素名称   费用信息表
  简要描述       存放空调消费信息的记录
  输入数据       空调的费用
  输出数据       空调的费用
  数据文件组成   空调ID+费用
  存储方式       一个ID字符串一个int
  备注           

  4.数据文件     
  -------------- ----------------------------------------------
  数据元素名称   空调状态信息表
  简要描述       存放空调状态信息的记录
  输入数据       风速、最大温度、最小温度、模式
  输出数据       当前温度、当前风速、当前工作模式、当前总能耗
  数据文件组成   空调ID+空调信息
  存储方式       每个空调是一个结构体拥有多个变量存放空调状态
  备注           

  4.数据文件     
  -------------- ------------------------------------
  数据元素名称   控制策略信息表
  简要描述       描述当前中央空调控制策略的记录
  输入数据       控制策略
  输出数据       控制策略
  数据文件组成   最大温度、最小温度、风速、工作模式
  存储方式       空调根据策略表设定自己的状态
  备注           

  4.数据文件     
  -------------- ------------------------
  数据元素名称   收费标准信息表
  简要描述       存放收费标准信息的记录
  输入数据       收费标准
  输出数据       收费标准
  数据文件组成   空调功耗单价
  存储方式       元/W
  备注           

5.  加工

| 5.加工                            |
+===================================+===================================+
| 加工名称                          | 分布式温控系统                    |
| 简要描述                          | 超级管理员初始设置收费标准、控制策略，普通管理员生成费用报表，住客 |
|                                   | 完成对房间空调的控制              |
| 加工编号                          | 001                               |
| 输入数据流                        | 中央空调开关指令                  |
|                                   |                                   |
|                                   | 设定工作模式指令                  |
|                                   |                                   |
|                                   | 设定收费标准指令                  |
|                                   |                                   |
|                                   | 房间空调开关指令                  |
|                                   |                                   |
|                                   | 生成报表请求                      |
|                                   |                                   |
|                                   | 最大、最小温度设置                |
|                                   |                                   |
|                                   | 配置账户权限                      |
|                                   |                                   |
|                                   | 能耗费用                          |
|                                   |                                   |
|                                   | 用户操作信息                      |
|                                   |                                   |
|                                   | 空调状态信息                      |
|                                   |                                   |
|                                   | 系统时间                          |
| 输出数据流                        | 中央空调信息显示                  |
|                                   |                                   |
|                                   | 报表                              |
|                                   |                                   |
|                                   | 住客操作信息                      |
|                                   |                                   |
|                                   | 空调信息                          |
| 加工逻辑                          | IF 中央空调开机指令 THEN          |
|                                   |                                   |
|                                   | 工作模式                          |
|                                   |                                   |
|                                   | 最大/小温度设置                   |
|                                   |                                   |
|                                   | 工作模式                          |
|                                   |                                   |
|                                   | 控制策略设置                      |
|                                   |                                   |
|                                   | 收费标准                          |
|                                   |                                   |
|                                   | 系统时间                          |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 关机指令 THEN                  |
|                                   |                                   |
|                                   | 退出中央温控系统                  |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 空调开机指令 THEN              |
|                                   |                                   |
|                                   | 从控机工作状态设为开启            |
|                                   |                                   |
|                                   | 初始化从控机设置                  |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 关房间指令 THEN                |
|                                   |                                   |
|                                   | 从控机工作状态设为停止            |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 顾客操作信息 THEN              |
|                                   |                                   |
|                                   | 中央空调响应                      |
|                                   |                                   |
|                                   | IF请求通过 THEN                   |
|                                   |                                   |
|                                   | 运行状态改变                      |
|                                   |                                   |
|                                   | 记录新的空调状态                  |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 生成报表THEN                   |
|                                   |                                   |
|                                   | 根据收费标准产生报表              |
|                                   |                                   |
|                                   | 输出报表                          |
|                                   |                                   |
|                                   | ENDIF                             |
| 备注                              |                                   |

### 3.2.2第1层数据流图

#### ![](media/image2.png){width="5.768055555555556in" height="3.647222222222222in"}3.2.2.1数据流图

分布式温控系统第一层数据流图

#### 3.2.2.2数据词典

1.  外部实体

| 1.外部实体   |
+==============+================================+
| 外部实体名称 | 住客                           |
| 简要描述     | 酒店住户，对房间内空调进行操作 |
| 有关数据流   | 开、关空调                     |
|              |                                |
|              | 设置温度                       |
|              |                                |
|              | 设置模式                       |
|              |                                |
|              | 空调状态查询                   |
| 备注         |                                |

### 

| 1.外部实体   |
+==============+========================================+
| 外部实体名称 | 超级管理员                             |
| 简要描述     | 酒店超级管理员，可以对中央空调进行操作 |
| 有关数据流   | 开、关中央空调                         |
|              |                                        |
|              | 设置收费标准                           |
|              |                                        |
|              | 设置控制策略                           |
|              |                                        |
|              | 空调状态查询                           |
|              |                                        |
|              | 配置账户权限                           |
| 备注         |                                        |

| 1.外部实体   |
+==============+==========================================+
| 外部实体名称 | 普通管理员                               |
| 简要描述     | 酒店普通管理员，对房间的空调生成费用报表 |
| 有关数据流   | 获取费用信息                             |
|              |                                          |
|              | 生成费用报表                             |
| 备注         |                                          |

2.  数据流

| 2.数据流   |
+============+============================+
| 数据流名称 | 开、关空调                 |
| 简要描述   | 产生原因：住客开、关从控机 |
|            |                            |
|            | 结果：空调开启、关闭       |
| 数据流来源 | 住客                       |
| 数据流去向 | 从控机子系统               |
| 数据流组成 | 开启空调信号、关闭空调信号 |
| 备注       |                            |

| 2.数据流   |
+============+============================+
| 数据流名称 | 温度                       |
| 简要描述   | 产生原因：住客设定目标温度 |
|            |                            |
|            | 结果：空调调节至目标温度   |
| 数据流来源 | 住客                       |
| 数据流去向 | 从控机子系统               |
| 数据流组成 | 目标温度                   |
| 备注       |                            |

| 2.数据流   |
+============+======================================+
| 数据流名称 | 模式                                 |
| 简要描述   | 产生原因：住客设定空调模式           |
|            |                                      |
|            | 结果：空调调节至目标模式             |
| 数据流来源 | 住客                                 |
| 数据流去向 | 从控机子系统                         |
| 数据流组成 | 空调工作模式                         |
| 备注       | 工作模式包括空调工作方式、风速、定时 |

| 2.数据流   |
+============+========================================+
| 数据流名称 | 空调信息                               |
| 简要描述   | 产生原因：住客获取空调信息             |
|            |                                        |
|            | 结果：住客了解到当前空调信息           |
| 数据流来源 | 住客                                   |
| 数据流去向 | 从控机子系统                           |
| 数据流组成 | 空调模式、当前温度、目标温度、收费标准 |
| 备注       |                                        |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 开关中央空调                               |
| 简要描述   | 产生原因：超级管理员请求开启、关闭中央空调 |
|            |                                            |
|            | 结果：中央空调开启、关闭                   |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 中央空调子系统                             |
| 数据流组成 | 开启中央空调信号、关闭中央空调信号         |
| 备注       |                                            |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 收费标准                                   |
| 简要描述   | 产生原因：超级管理员设置当前收费标准       |
|            |                                            |
|            | 结果：修改当前收费标准并更新收费标准信息表 |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 中央空调子系统                             |
| 数据流组成 | 收费标准                                   |
| 备注       |                                            |

| 2.数据流   |
+============+==================================================+
| 数据流名称 | 空调信息                                         |
| 简要描述   | 产生原因：超级管理员获取中央空调和从控机状态信息 |
|            |                                                  |
|            | 结果：超级管理员了解到当前空调信息               |
| 数据流来源 | 超级管理员                                       |
| 数据流去向 | 中央空调子系统                                   |
| 数据流组成 | 中央空调状态信息                                 |
| 备注       |                                                  |

| 2.数据流   |
+============+================================================+
| 数据流名称 | 控制策略                                       |
| 简要描述   | 产生原因：管理员更改当前中央空调的控制策略     |
|            |                                                |
|            | 结果：修改了当前控制策略和更新了控制策略信息表 |
| 数据流来源 | 超级管理员                                     |
| 数据流去向 | 中央空调子系统                                 |
| 数据流组成 | 控制策略                                       |
| 备注       |                                                |

| 2.数据流   |
+============+========================================+
| 数据流名称 | 账户权限                               |
| 简要描述   | 产生原因：超级管理员给管理员分配权限   |
|            |                                        |
|            | 结果：管理员得到超级管理员所分配的权限 |
| 数据流来源 | 超级管理员                             |
| 数据流去向 | 中央空调子系统                         |
| 数据流组成 | 管理员权限、管理员ID                   |
| 备注       |                                        |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 最大、最小温度                             |
| 简要描述   | 产生原因：超级管理员对最大最小温度进行设置 |
|            |                                            |
|            | 结果：中央空调以设置的最大、最小温度运行   |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 中央空调子系统                             |
| 数据流组成 | 最大温度、最小温度                         |
| 备注       |                                            |

| 2.数据流   |
+============+====================================+
| 数据流名称 | 空调信息系统时间                   |
| 简要描述   | 产生原因：中央空调系统要求系统时间 |
|            |                                    |
|            | 结果：中央空调系统获得系统时间     |
| 数据流来源 | 超级管理员                         |
| 数据流去向 | 中央空调子系统                     |
| 数据流组成 | 系统时间信息                       |
| 备注       |                                    |

| 2.数据流   |
+============+================================================+
| 数据流名称 | 费用报表                                       |
| 简要描述   | 产生原因：普通管理员查询空调状态并生成费用报表 |
|            |                                                |
|            | 结果：生成对应空调的费用报表                   |
| 数据流来源 | 普通管理员                                     |
| 数据流去向 | 中央空调子系统                                 |
| 数据流组成 | 空调状态、收费标准、费用信息                   |
| 备注       |                                                |

3.  数据元素

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调开机信号
  简要描述       位于空调的数据结构内，用来向系统发出信号，开启空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调关机信号
  简要描述       位于空调的数据结构内，用来向系统发出信号，关闭空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   目标温度
  简要描述       位于空调的数据结构内，改变空调的目标温度
  类型           int
  长度           1
  取值范围       最小温度\~最大温度
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调工作模式
  简要描述       位于中央空调的数据结构内，描述了空调当前的工作模式
  类型           int
  长度           1
  取值范围       0、1、2、3
  备注           

  3.数据元素     
  -------------- --------------------------------------------
  数据元素名称   空调风速
  简要描述       位于中央空调的数据结构内，描述空调当前风速
  类型           int
  长度           1
  取值范围       0\~30
  备注           

  3.数据元素     
  -------------- --------------------------------------------
  数据元素名称   空调温度
  简要描述       位于中央空调的数据结构内，描述空调当前温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ------------------------------------------------------------
  数据元素名称   中央空调开机信号
  简要描述       位于中央空调的数据结构内，用来向系统发出信号，开启中央空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ------------------------------------------------------------
  数据元素名称   中央空调关机信号
  简要描述       位于中央空调的数据结构内，用来向系统发出信号，关闭中央空调
  类型           Int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ----------------------------
  数据元素名称   空调耗能
  简要描述       空调目前位置所消耗的能量数
  类型           int
  长度           1
  取值范围       0\~255
  备注           用来计费衡量空调使用量

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   中央空调控制策略
  简要描述       中央空调的控制策略，用来约束空调的温度等
  类型           int
  长度           1
  取值范围       0、1、2、3
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   中央空调总能耗
  简要描述       描述中央空调的总能耗，位于中央空调信息的数据结构中
  类型           int
  长度           1
  取值范围       0\~255
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   最大温度
  简要描述       位于中央空调的数据结构内，设置的当前空调的最大温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   最小温度
  简要描述       位于中央空调的数据结构内，设置的当前空调的最小温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ----------------------------------------------
  数据元素名称   空调ID
  简要描述       位于空调的数据结构内，作为唯一标识空调的ID号
  类型           int
  长度           1
  取值范围       0000\~9999
  备注           

  3.数据元素     
  -------------- ----------------------------------------
  数据元素名称   费用
  简要描述       位于空调的数据结构内，描述当前空调费用
  类型           int
  长度           1
  取值范围       0\~1000
  备注           

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   管理员ID
  简要描述       位于管理员数据结构中，唯一标识管理员身份
  类型           int
  长度           1
  取值范围       000\~999
  备注           

  3.数据元素     
  -------------- ------------------------------------------------
  数据元素名称   管理员权限
  简要描述       位于管理员的数据结构内，描述该管理员的权限范围
  类型           int\[\]
  长度           6
  取值范围       
  备注           6位数组对应位置标识，若为1即为有当前权限

4.  数据文件

  4.数据文件     
  -------------- --------------------------
  数据元素名称   账户权限信息表
  简要描述       存放管理员权限信息的记录
  输入数据       管理员权限
  输出数据       管理员权限
  数据文件组成   管理员ID+管理员权限数组
  存储方式       一个ID字符串一个权限数组
  备注           

  4.数据文件     
  -------------- ------------------------
  数据元素名称   费用信息表
  简要描述       存放空调消费信息的记录
  输入数据       空调的费用
  输出数据       空调的费用
  数据文件组成   空调ID+费用
  存储方式       一个ID字符串一个int
  备注           

  4.数据文件     
  -------------- ----------------------------------------------
  数据元素名称   空调状态信息表
  简要描述       存放空调状态信息的记录
  输入数据       风速、最大温度、最小温度、模式
  输出数据       当前温度、当前风速、当前工作模式、当前总能耗
  数据文件组成   空调ID+空调信息
  存储方式       每个空调是一个结构体拥有多个变量存放空调状态
  备注           

  4.数据文件     
  -------------- ------------------------------------
  数据元素名称   控制策略信息表
  简要描述       描述当前中央空调控制策略的记录
  输入数据       控制策略
  输出数据       控制策略
  数据文件组成   最大温度、最小温度、风速、工作模式
  存储方式       空调根据策略表设定自己的状态
  备注           

  4.数据文件     
  -------------- ------------------------
  数据元素名称   收费标准信息表
  简要描述       存放收费标准信息的记录
  输入数据       收费标准
  输出数据       收费标准
  数据文件组成   空调功耗单价
  存储方式       元/W
  备注           

5.  加工

| 5.加工     |
+============+======================================================+
| 加工名称   | 中央空调子系统                                       |
| 简要描述   | 中央空调子系统从从控机系统中获取状态并生成对应的费用 |
| 加工编号   | 002                                                  |
| 输入数据流 | 中央空调开关指令                                     |
|            |                                                      |
|            | 设定工作模式指令                                     |
|            |                                                      |
|            | 设定收费标准指令                                     |
|            |                                                      |
|            | 房间空调开关指令                                     |
|            |                                                      |
|            | 生成报表请求                                         |
|            |                                                      |
|            | 最大、最小温度设置                                   |
|            |                                                      |
|            | 配置账户权限                                         |
|            |                                                      |
|            | 能耗费用                                             |
|            |                                                      |
|            | 用户操作信息                                         |
|            |                                                      |
|            | 空调状态信息                                         |
|            |                                                      |
|            | 系统时间                                             |
| 输出数据流 | 中央空调信息显示                                     |
|            |                                                      |
|            | 账户权限                                             |
|            |                                                      |
|            | 报表                                                 |
|            |                                                      |
|            | 住客操作信息                                         |
| 加工逻辑   | IF 中央空调开机指令 THEN                             |
|            |                                                      |
|            | 工作模式                                             |
|            |                                                      |
|            | 最大/小温度设置                                      |
|            |                                                      |
|            | 工作模式                                             |
|            |                                                      |
|            | 控制策略设置                                         |
|            |                                                      |
|            | 收费标准                                             |
|            |                                                      |
|            | 系统时间                                             |
|            |                                                      |
|            | ENDIF                                                |
|            |                                                      |
|            | IF 关机指令 THEN                                     |
|            |                                                      |
|            | 退出中央温控系统                                     |
|            |                                                      |
|            | ENDIF                                                |
|            |                                                      |
|            | IF 生成报表请求 THEN                                 |
|            |                                                      |
|            | 从收费标准信息表中获取信息                           |
|            |                                                      |
|            | 从从控机子系统中获取信息                             |
|            |                                                      |
|            | 计算费用并生成报表                                   |
|            |                                                      |
|            | ENDIF                                                |
|            |                                                      |
|            | IF 顾客操作信息 THEN                                 |
|            |                                                      |
|            | 中央空调响应                                         |
|            |                                                      |
|            | IF请求通过 THEN                                      |
|            |                                                      |
|            | 运行状态改变                                         |
|            |                                                      |
|            | 记录新的空调状态                                     |
|            |                                                      |
|            | ENDIF                                                |
| 备注       |                                                      |

| 5.加工     |
+============+============================================+
| 加工名称   | 从控机                                     |
| 简要描述   | 从控机完成用户的操作和将信息反馈给中央空调 |
| 加工编号   | 003                                        |
| 输入数据流 | 请求应答                                   |
|            |                                            |
|            | 空调开关指令                               |
|            |                                            |
|            | 设定温度指令                               |
|            |                                            |
|            | 设定风速指令                               |
| 输出数据流 | 从控机信息显示                             |
|            |                                            |
|            | 运行状态                                   |
|            |                                            |
|            | 从控机调节信息                             |
| 加工逻辑   | IF 开关/温度/风速指令 THEN                 |
|            |                                            |
|            | 输出从控机调节信息                         |
|            |                                            |
|            | 接收请求应答                               |
|            |                                            |
|            | 输出运行状态到温度模拟                     |
|            |                                            |
|            | ENDIF                                      |
|            |                                            |
|            | IF 模拟温度信息 THEN                       |
|            |                                            |
|            | IF 满足暂停/恢复工作条件 THEN              |
|            |                                            |
|            | 输出从控机调节信息                         |
|            |                                            |
|            | ENDIF                                      |
|            |                                            |
|            | ENDIF                                      |
| 备注       |                                            |

**\
**

### 3.2.3第2层数据流图

#### 3.2.3.1数据流图

![](media/image3.png){width="5.768055555555556in"
height="5.529166666666667in"}中央空调子系统第二层数据流图

![](media/image4.png){width="5.768055555555556in"
height="6.120138888888889in"}从控机子系统第二层数据流图

#### 3.2.3.2数据词典

1.  外部实体

| 1.外部实体   |
+==============+================================+
| 外部实体名称 | 住客                           |
| 简要描述     | 酒店住户，对房间内空调进行操作 |
| 有关数据流   | 开、关空调                     |
|              |                                |
|              | 设置温度                       |
|              |                                |
|              | 设置模式                       |
|              |                                |
|              | 空调状态查询                   |
| 备注         |                                |

| 1.外部实体   |
+==============+========================================+
| 外部实体名称 | 超级管理员                             |
| 简要描述     | 酒店超级管理员，可以对中央空调进行操作 |
| 有关数据流   | 开、关中央空调                         |
|              |                                        |
|              | 设置收费标准                           |
|              |                                        |
|              | 设置控制策略                           |
|              |                                        |
|              | 空调状态查询                           |
|              |                                        |
|              | 配置账户权限                           |
| 备注         |                                        |

| 1.外部实体   |
+==============+==========================================+
| 外部实体名称 | 普通管理员                               |
| 简要描述     | 酒店普通管理员，对房间的空调生成费用报表 |
| 有关数据流   | 获取费用信息                             |
|              |                                          |
|              | 生成费用报表                             |
| 备注         |                                          |

2.  数据流

| 2.数据流   |
+============+============================+
| 数据流名称 | 开、关空调                 |
| 简要描述   | 产生原因：住客开、关从控机 |
|            |                            |
|            | 结果：空调开启、关闭       |
| 数据流来源 | 住客                       |
| 数据流去向 | 从控机子系统               |
| 数据流组成 | 开启空调信号、关闭空调信号 |
| 备注       |                            |

| 2.数据流   |
+============+============================+
| 数据流名称 | 温度                       |
| 简要描述   | 产生原因：住客设定目标温度 |
|            |                            |
|            | 结果：空调调节至目标温度   |
| 数据流来源 | 住客                       |
| 数据流去向 | 从控机子系统               |
| 数据流组成 | 目标温度                   |
| 备注       |                            |

| 2.数据流   |
+============+======================================+
| 数据流名称 | 模式                                 |
| 简要描述   | 产生原因：住客设定空调模式           |
|            |                                      |
|            | 结果：空调调节至目标模式             |
| 数据流来源 | 住客                                 |
| 数据流去向 | 从控机子系统                         |
| 数据流组成 | 空调工作模式                         |
| 备注       | 工作模式包括空调工作方式、风速、定时 |

| 2.数据流   |
+============+========================================+
| 数据流名称 | 空调信息                               |
| 简要描述   | 产生原因：住客获取空调信息             |
|            |                                        |
|            | 结果：住客了解到当前空调信息           |
| 数据流来源 | 住客                                   |
| 数据流去向 | 从控机子系统                           |
| 数据流组成 | 空调模式、当前温度、目标温度、收费标准 |
| 备注       |                                        |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 开关中央空调                               |
| 简要描述   | 产生原因：超级管理员请求开启、关闭中央空调 |
|            |                                            |
|            | 结果：中央空调开启、关闭                   |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 中央空调子系统                             |
| 数据流组成 | 开启中央空调信号、关闭中央空调信号         |
| 备注       |                                            |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 收费标准                                   |
| 简要描述   | 产生原因：超级管理员设置当前收费标准       |
|            |                                            |
|            | 结果：修改当前收费标准并更新收费标准信息表 |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 中央空调子系统                             |
| 数据流组成 | 收费标准                                   |
| 备注       |                                            |

| 2.数据流   |
+============+==================================================+
| 数据流名称 | 空调信息                                         |
| 简要描述   | 产生原因：超级管理员获取中央空调和从控机状态信息 |
|            |                                                  |
|            | 结果：超级管理员了解到当前空调信息               |
| 数据流来源 | 超级管理员                                       |
| 数据流去向 | 中央空调子系统                                   |
| 数据流组成 | 中央空调状态信息                                 |
| 备注       |                                                  |

| 2.数据流   |
+============+================================================+
| 数据流名称 | 控制策略                                       |
| 简要描述   | 产生原因：管理员更改当前中央空调的控制策略     |
|            |                                                |
|            | 结果：修改了当前控制策略和更新了控制策略信息表 |
| 数据流来源 | 超级管理员                                     |
| 数据流去向 | 中央空调子系统                                 |
| 数据流组成 | 控制策略                                       |
| 备注       |                                                |

| 2.数据流   |
+============+========================================+
| 数据流名称 | 账户权限                               |
| 简要描述   | 产生原因：超级管理员给管理员分配权限   |
|            |                                        |
|            | 结果：管理员得到超级管理员所分配的权限 |
| 数据流来源 | 超级管理员                             |
| 数据流去向 | 中央空调子系统                         |
| 数据流组成 | 管理员权限、管理员ID                   |
| 备注       |                                        |

| 2.数据流   |
+============+============================================+
| 数据流名称 | 最大、最小温度                             |
| 简要描述   | 产生原因：超级管理员对最大最小温度进行设置 |
|            |                                            |
|            | 结果：中央空调以设置的最大、最小温度运行   |
| 数据流来源 | 超级管理员                                 |
| 数据流去向 | 中央空调子系统                             |
| 数据流组成 | 最大温度、最小温度                         |
| 备注       |                                            |

| 2.数据流   |
+============+====================================+
| 数据流名称 | 空调信息系统时间                   |
| 简要描述   | 产生原因：中央空调系统要求系统时间 |
|            |                                    |
|            | 结果：中央空调系统获得系统时间     |
| 数据流来源 | 超级管理员                         |
| 数据流去向 | 中央空调子系统                     |
| 数据流组成 | 系统时间信息                       |
| 备注       |                                    |

| 2.数据流   |
+============+================================================+
| 数据流名称 | 费用报表                                       |
| 简要描述   | 产生原因：普通管理员查询空调状态并生成费用报表 |
|            |                                                |
|            | 结果：生成对应空调的费用报表                   |
| 数据流来源 | 普通管理员                                     |
| 数据流去向 | 中央空调子系统                                 |
| 数据流组成 | 空调状态、收费标准、费用信息                   |
| 备注       |                                                |

3.  数据元素

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调开机信号
  简要描述       位于空调的数据结构内，用来向系统发出信号，开启空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调关机信号
  简要描述       位于空调的数据结构内，用来向系统发出信号，关闭空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   目标温度
  简要描述       位于空调的数据结构内，改变空调的目标温度
  类型           int
  长度           1
  取值范围       最小温度\~最大温度
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   空调工作模式
  简要描述       位于中央空调的数据结构内，描述了空调当前的工作模式
  类型           int
  长度           1
  取值范围       0、1、2、3
  备注           

  3.数据元素     
  -------------- --------------------------------------------
  数据元素名称   空调风速
  简要描述       位于中央空调的数据结构内，描述空调当前风速
  类型           int
  长度           1
  取值范围       0\~30
  备注           

  3.数据元素     
  -------------- --------------------------------------------
  数据元素名称   空调温度
  简要描述       位于中央空调的数据结构内，描述空调当前温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ------------------------------------------------------------
  数据元素名称   中央空调开机信号
  简要描述       位于中央空调的数据结构内，用来向系统发出信号，开启中央空调
  类型           int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ------------------------------------------------------------
  数据元素名称   中央空调关机信号
  简要描述       位于中央空调的数据结构内，用来向系统发出信号，关闭中央空调
  类型           Int
  长度           1
  取值范围       0、1
  备注           

  3.数据元素     
  -------------- ----------------------------
  数据元素名称   空调耗能
  简要描述       空调目前位置所消耗的能量数
  类型           int
  长度           1
  取值范围       0\~255
  备注           用来计费衡量空调使用量

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   中央空调控制策略
  简要描述       中央空调的控制策略，用来约束空调的温度等
  类型           int
  长度           1
  取值范围       0、1、2、3
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   中央空调总能耗
  简要描述       描述中央空调的总能耗，位于中央空调信息的数据结构中
  类型           int
  长度           1
  取值范围       0\~255
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   最大温度
  简要描述       位于中央空调的数据结构内，设置的当前空调的最大温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ----------------------------------------------------
  数据元素名称   最小温度
  简要描述       位于中央空调的数据结构内，设置的当前空调的最小温度
  类型           int
  长度           1
  取值范围       0\~40
  备注           

  3.数据元素     
  -------------- ----------------------------------------------
  数据元素名称   空调ID
  简要描述       位于空调的数据结构内，作为唯一标识空调的ID号
  类型           int
  长度           1
  取值范围       0000\~9999
  备注           

  3.数据元素     
  -------------- ----------------------------------------
  数据元素名称   费用
  简要描述       位于空调的数据结构内，描述当前空调费用
  类型           int
  长度           1
  取值范围       0\~1000
  备注           

  3.数据元素     
  -------------- ------------------------------------------
  数据元素名称   管理员ID
  简要描述       位于管理员数据结构中，唯一标识管理员身份
  类型           int
  长度           1
  取值范围       000\~999
  备注           

  3.数据元素     
  -------------- ------------------------------------------------
  数据元素名称   管理员权限
  简要描述       位于管理员的数据结构内，描述该管理员的权限范围
  类型           int\[\]
  长度           6
  取值范围       
  备注           6位数组对应位置标识，若为1即为有当前权限

4.  数据文件

  4.数据文件     
  -------------- --------------------------
  数据元素名称   账户权限信息表
  简要描述       存放管理员权限信息的记录
  输入数据       管理员权限
  输出数据       管理员权限
  数据文件组成   管理员ID+管理员权限数组
  存储方式       一个ID字符串一个权限数组
  备注           

  4.数据文件     
  -------------- ------------------------
  数据元素名称   费用信息表
  简要描述       存放空调消费信息的记录
  输入数据       空调的费用
  输出数据       空调的费用
  数据文件组成   空调ID+费用
  存储方式       一个ID字符串一个int
  备注           

  4.数据文件     
  -------------- ----------------------------------------------
  数据元素名称   空调状态信息表
  简要描述       存放空调状态信息的记录
  输入数据       风速、最大温度、最小温度、模式
  输出数据       当前温度、当前风速、当前工作模式、当前总能耗
  数据文件组成   空调ID+空调信息
  存储方式       每个空调是一个结构体拥有多个变量存放空调状态
  备注           

  4.数据文件     
  -------------- ------------------------------------
  数据元素名称   控制策略信息表
  简要描述       描述当前中央空调控制策略的记录
  输入数据       控制策略
  输出数据       控制策略
  数据文件组成   最大温度、最小温度、风速、工作模式
  存储方式       空调根据策略表设定自己的状态
  备注           

  4.数据文件     
  -------------- ------------------------
  数据元素名称   收费标准信息表
  简要描述       存放收费标准信息的记录
  输入数据       收费标准
  输出数据       收费标准
  数据文件组成   空调功耗单价
  存储方式       元/W
  备注           

5.  加工

| 5.加工                            |
+===================================+===================================+
| 加工名称                          | 中央空调子系统                    |
| 简要描述                          | 中央空调子系统从从控机系统中获取状态并生成对应的费用 |
| 加工编号                          | 002                               |
| 输入数据流                        | 中央空调开关指令                  |
|                                   |                                   |
|                                   | 设定工作模式指令                  |
|                                   |                                   |
|                                   | 设定收费标准指令                  |
|                                   |                                   |
|                                   | 房间空调开关指令                  |
|                                   |                                   |
|                                   | 生成报表请求                      |
|                                   |                                   |
|                                   | 最大、最小温度设置                |
|                                   |                                   |
|                                   | 配置账户权限                      |
|                                   |                                   |
|                                   | 能耗费用                          |
|                                   |                                   |
|                                   | 用户操作信息                      |
|                                   |                                   |
|                                   | 空调状态信息                      |
|                                   |                                   |
|                                   | 系统时间                          |
| 输出数据流                        | 中央空调信息显示                  |
|                                   |                                   |
|                                   | 账户权限                          |
|                                   |                                   |
|                                   | 报表                              |
|                                   |                                   |
|                                   | 住客操作信息                      |
| 加工逻辑                          | IF 中央空调开机指令 THEN          |
|                                   |                                   |
|                                   | 工作模式                          |
|                                   |                                   |
|                                   | 最大/小温度设置                   |
|                                   |                                   |
|                                   | 工作模式                          |
|                                   |                                   |
|                                   | 控制策略设置                      |
|                                   |                                   |
|                                   | 收费标准                          |
|                                   |                                   |
|                                   | 系统时间                          |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 关机指令 THEN                  |
|                                   |                                   |
|                                   | 退出中央温控系统                  |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 生成报表请求 THEN              |
|                                   |                                   |
|                                   | 从收费标准信息表中获取信息        |
|                                   |                                   |
|                                   | 从从控机子系统中获取信息          |
|                                   |                                   |
|                                   | 计算费用并生成报表                |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 顾客操作信息 THEN              |
|                                   |                                   |
|                                   | 中央空调响应                      |
|                                   |                                   |
|                                   | IF请求通过 THEN                   |
|                                   |                                   |
|                                   | 运行状态改变                      |
|                                   |                                   |
|                                   | 记录新的空调状态                  |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 设置账户权限信息 THEN          |
|                                   |                                   |
|                                   | 根据输出的账户权限给对应的管理员ID分配权限 |
|                                   |                                   |
|                                   |                                   |
|                                   | ENDIF                             |
|                                   |                                   |
|                                   | IF 从控机状态查询 THEN            |
|                                   |                                   |
|                                   | 通过从控机状态信息表，和要查询的从控机ID进行查询得到对应的从空机 |
|                                   | 的状态信息                        |
| 备注                              |                                   |

| 5.加工     |
+============+================================================+
| 加工名称   | 从控机                                         |
| 简要描述   | 从控机完成用户的操作和将信息反馈给中央空调     |
| 加工编号   | 003                                            |
| 输入数据流 | 请求应答                                       |
|            |                                                |
|            | 空调开关指令                                   |
|            |                                                |
|            | 设定温度指令                                   |
|            |                                                |
|            | 设定风速指令                                   |
| 输出数据流 | 从控机信息显示                                 |
|            |                                                |
|            | 运行状态                                       |
|            |                                                |
|            | 从控机调节信息                                 |
| 加工逻辑   | IF 开关/温度/风速指令 THEN                     |
|            |                                                |
|            | 输出从控机调节信息                             |
|            |                                                |
|            | IF 满足设定要求 THEN                           |
|            |                                                |
|            | 接收请求应答                                   |
|            |                                                |
|            | 输出运行状态到温度模拟                         |
|            |                                                |
|            | ENDIF                                          |
|            |                                                |
|            | ENDIF                                          |
|            |                                                |
|            | IF 获取空调信息 THEN                           |
|            |                                                |
|            | 从从控机状态信息表中获取信息，将信息反馈给用户 |
|            |                                                |
|            | ENDIF                                          |
| 备注       |                                                |

![](media/image5.emf){width="5.767361111111111in" height="6.904861111111111in"}3.3系统数据模型（20分）
------------------------------------------------------------------------------------------------------

3.4系统性能要求（2分）
----------------------

### 3.4.1数据精确度

  数据项     精度
---------- -------------
  温度       1℃
  响应时间   1ms
  能耗       0.1标准功率
  费用       0.1元
  系统时间   1ms

### 3.4.2时间特性

  项目           要求
-------------- ------------------
  响应时间       小于50ms
  更新处理时间   小于50ms
  数据转换时间   小于100ms
  传输时间       小于50ms
  运行时间       7天\*24小时
  采集频率       每隔10秒采集一次

### 3.4.3适应性

操作方式：在系统的交互协议不变的情况下，该系统能够适应多种操作方式，例

> 如遥控器控制、手机控制等；

运行环境：该系统应该能够兼容大部分的系统；

接口变化：在接口发生变化时，系统应该能在仅需改变接口处理的情况下继续使

用。

3.5系统的数据采集接口（1分）
----------------------------

对于住户来说，可以方便通过遥控器的不同按键，发送的不同红外线定义不同功能，从而获得用户方面指令的数据接口。

对于温度，空调状态等数据，主要通过各个厂商的开发文档，从他们提供的API接口获得。

对于中央空调管理员，可以通过电脑键盘鼠标获得命令。

4．其他需求（1分）
==================

1.  **可使用性：**

通过产品经理的调查分析，保证界面的友好，使得用户易学易操作。

2.  **安全保密：**

> 对于管理员的操作，必须要求用户名和密码登录，如果要求级别特别高，还必须增加登录密码和操作验证双重密码。同时在一些更加要求高安全性的地方，加入人脸识别。
>
> 同时，还要保证能够在面对病毒入侵的时候，保证系统正常运行，对恶意代码的修改及时报警。

3.  **可维护性：**

> 确保各个功能模块都有相应的文档，函数名使用英文命名，并且对代码进行注释帮助理解。
>
> 同时，对于中央空调管理员日常维护上，要保证方便批量的空调设置，检测，减少中央空调管理员的工作量。

4.  **可移植性:**

> 系统使用qt进行开发，保证在三大桌面平台的可移植性，方便用户选择合适的平台进行部署。
