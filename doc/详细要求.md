## 分布式温控系统详细要求

假定，某快捷廉价酒店响应节能绿色环保理念，推行自助式房间温度调节的空调系统，经过初步分析该系统的需求如下：

1.  空调系统由中央空调和房间空调两部分构成；

2.  中央空调是冷暖两用，根据季节进行工作模式调整。

    a.  当设置为供暖时，供暖温度控制在25°C～30°C之间；

    b.  当设置为制冷时，制冷温度控制在18°C～25°C之间。

3.  中央空调具备开关按钮，只可人工开启和关闭，中央空调正常开启后处于待机状态。

    c.  中央空调开机后，默认处于制冷模式，缺省工作温度为22°C，当切换到供暖模式时，缺省工作温度为28°C；

    d.  当关闭后，不响应来自房间的任何温控请求；

    e.  当有来自从控机的温控要求时，中央空调开始工作；

    f.  当所有房间都没有温控要求时，中央空调的状态回到待机状态。

4.  房间内有独立的从控空调机，但没有冷暖控制设备。

    g.  从控机具有一个温度传感器，实时监测房间的温度，并与从控机的目标设置温度进行对比，并向中央空调机发出温度调节请求。

    h.  如果从控机发出的请求和中央空调设置的冷暖控制状态发生矛盾时，以中央空调机的状态优先，否则中央空调机不予响应。

5.  从控机只能人工方式开闭，并通过控制面板设置目标温度，目标温度有上下限制。

    i.  从控机开机后动态获取房间温度，并将温度显示在控制面板上；

    j.  从控机开机后需要与中央空调进行连接认证，用户输入房间号+身份证号后，从控机从中央空调获取工作模式，并将工作模式和缺省工作温度显示在控制面板上；

6.  控制面板的温度调节可以连续变化也可以断续变化：

    k.  温度调节按钮连续两次或多次指令的时间间隔小于1s时，从控机只发送最后一次的指令参数；

    l.  如果温度调节按钮连续两次的时间间隔大于1s时，从控机将发送两次指令参数；

7.  房间目标温度达到后，从控机自动停止工作，同时发送停止送风请求给中央空调。

    m.  房间温度随着环境温度开始变化，当房间温度超过目标温度1
        °C时，重新启动；

    n.  房间不考虑大小和管道的分布及大小问题，在达到目标温度后，房间温度每分钟上下变化X°C（各小组自行定义环境温度的变化曲线）。

8.  中央空调能够实时监测各房间的温度和状态，并要求实时刷新的频率能够进行配置；

9.  要求从控机的控制面板能够发送高、中、低风速的请求，要求各小组自定义高、中、低风情况下的温度变化值；比如以中风为基准，高速风的温度变化曲线可以提高25%，低速风的温度变化曲线可以降低25%。

10. 系统中央空调部分具备计费功能：可根据中央空调对从控机的请求时长及高中低风速的供风量进行费用计算；

    o.  每分钟中速风的能量消耗为一个标准功率消耗单位；

    p.  低速风的每分钟功率消耗为0.8标准功率；

    q.  高速风的每分钟功率消耗为1.3标准功率；

    r.  并假设，每一个标准功率消耗的计费标准是5元。

11. 中央空调实时计算每个房间所消耗的能量以及所需支付的金额，并将对应信息发送给每个从控机进行在线显示，以便客户可以实时查看用量和金额。

12. 中央空调监控具备统计功能，可以根据需要给出日报表、周报表和月报表；报表内容如下：房间号、从控机开关机的次数、温控请求起止时间（列出所有记录）、温控请求的起止温度及风量大小（列出所有记录）、每次温控请求所需费用、每日（周、月）所需总费用。

13. 中央空调同时只能处理三台从控机的请求，为此主机要有负载均衡的能力。如果有超过三台从控机请求，则需要对所有请求机器进行调度，调度算法可自行定义，如先来先到、高速风优先抢占、时间片轮询等。
