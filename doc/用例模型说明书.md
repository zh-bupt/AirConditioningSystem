# 分布式温控系统用例模型说明书

1. 文档说明(10分)
==============

1.1 文档目的 
---------

该文档主要的目的建立用例模型。根据已经确定的需求分析来描述用户以及各个子功能系统之间的交互场景，对每一个场景建立相应的用例模型，软件开发人员根据此模型来进行软件的详细设计与开发。

1.2 读者对象 
---------

用户、客户、设计人员、编码人员和测试人员等

1.3 参考文档 
---------

《用例模型说明书模板》

《分布式温控系统详细要求》

《分布式温控系统用户需求说明书》

1.4 术语与缩写解释 
---------------

UC Use Case 用例

UC\_A 从控机基本用例

UC\_B 主控机基本用例

UC\_A\_\* 从控机扩展用例

UC\_B\_\* 主控机扩展用例

2. 项目背景(5分)
=============

根据如下需求，设计中央空调系统：

1.  空调系统由中央空调和房间空调（从控机）两部分构成。中央空调由特定的管理人员操控，房间空调由用户来操控。

2.  中央空调具备开关按钮，只可人工开启和关闭，正常开启后处于待机状态。有冷暖两种工作模式，每种模式有特定的缺省温度以及温度区间，可根据季节进行工作模式的调整。中央空调能够实时监测个房间的温度和状态，并且能够根据实时刷新的频率进行配置。

3.  从控机只能人工方式开闭，可以通过控制面板设置目标温度，目标温度有上下限制。控制面板的温度调节可以连续变化也可以断续变化。每个从控机内有一个温度传感器，可以实时监测房间的温度。

4.  从控机的控制面板能够发送高、中、低风速的请求，各小组可以自定义高、中、低三种风速下的温度变化值。中央空调可以根据从控机的请求时长及高中低风速的供风量计算每个房间所消耗的能量以及所需支付的金额，并将对应信息发送给每个从控机进行在线显示，以便客户查询。

5.  中央空调监控具备统计功能，可以根据需要给出日报表、周报表和月报表；报表内容如下：房间号、从控机开关机的次数、温控请求起止时间（列出所有记录）、温控请求的起止温度及风量大小（列出所有记录）、每次温控请求所需费用、每日（周、月）所需总费用。

6.  中央空调同时只能处理三台从控机的请求，为此主机要有负载均衡的能力。如果有超过三台从控机请求，则需要对所有请求机器进行调度，调度算法自行定义。

3. 用例图(15分)
============

3.1参与者关系
-------------

![参与者关系](media/image1.png){width="5.763888888888889in"
height="3.8333333333333335in"}

3.2 从控机部分
--------------

**3.2.1 从控机部分参与者**

从控机部分的主要参与者是：住客

住客可以根据自身需求打开或关闭空调，
之后根据自身需求设置模式，包括制冷、制热、除湿、通风等功能；调节空调的温度；调节风速；查看实时信息。

从控机部分的次要参与者是：主控机

主控机主要有设置从机状态，发送信息和获取从机信息的功能。

**3.2.2 从控机部分用例概述**

(1) 住客打开从控机

(2) 住客设置模式

(3) 住客升高温度

(4) 住客降低温度

(5) 住客调节风速

(6) 住客查看空调实时信息

(7) 住客关闭空调

**3.2.3 从控机用例图**

![3.2.3 从控机用例图 (1)](media/image2.png){width="5.763888888888889in"
height="5.0in"}

3.3 主控机部分
--------------

**3.3.1 主控机部分参与者**

主控机部分的主要参与者是：超级管理员、普通管理员、自定义管理员，超级管理员拥有所有的权限，包括计费功能，控制功能，管理功能。普通管理员只有计费功能，自定义管理员权限可以从0到超级管理员，具体由超级管理员设置。

主控机部分的次要参与者是：从控机

**3.3.2 主控机部分用例概述**

（1）超级管理员启动中央空调

（2）超级管理员读取从机状态

（3）超级管理员进行从机设置

（4）超级管理员收费标准设置

（5）超级管理员生成费用报表

（6）超级管理员配置不同权限账户

（7）普通管理员生成费用报表

**3.3.3 主控机用例图**

**3.3.3.1 超级管理员角度**

![3.3.3.1 超级管理员角度](media/image3.png){width="5.763888888888889in"
height="5.083333333333333in"}

**3.3.3.2 普通管理员角度**

![3.3.3.2 普通管理员角度
(2)](media/image4.png){width="5.763888888888889in"
height="2.1944444444444446in"}

4. 用例说明(20分)
==============

4.1 从控机部分
--------------

### 4.1.1 基本用例

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_A                             |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 使用空调                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 从控机部分                        |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 住客                              |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开启，从控机没有打开  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 如果开启成功，空调送风；如果开启不成功，从控机无反应 |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 顾客点击从控机启动按钮            |
+-----------------------------------+-----------------------------------+
| **2．**                           | 如果顾客打算设置空调，则转扩展用例： |
|                                   |                                   |
|                                   | 设置空调UC\_A\_01                 |
|                                   |                                   |
|                                   | 如如果顾客打算获取空调使用信息，则转扩展用例： |
|                                   |                                   |
|                                   | 查看信息 UC\_A\_02                |
+-----------------------------------+-----------------------------------+
| **3．**                           | 若顾客认为空调温度风速合适，则尽情享受，若不合适，跳转场景 |
|                                   |                                   |
|                                   | 2                                 |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **2.a**                           | 顾客打算调整风速时候，可以选择风速的大小，如低速、中速、高速 |
+-----------------------------------+-----------------------------------+
| **2.b**                           | 顾客打算调整目标温度时候，可以在当前目标温度的基础上提高或降低目标 |
|                                   | 温度                              |
+-----------------------------------+-----------------------------------+
| **2.c**                           | 顾客打算查看空调使用信息时，可以在显示屏上观察到相关信息 |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 从控机系统在任意时刻失败          |
|                                   |                                   |
|                                   | （1） 显示错误信息                |
|                                   |                                   |
|                                   | （2） 用户重新启动空调            |
+-----------------------------------+-----------------------------------+
| **\*.b**                          | 用户在任意时刻按下关闭空调按钮    |
|                                   |                                   |
|                                   | （1） 从控机关闭                  |
+-----------------------------------+-----------------------------------+

### 4.1.2 扩展用例

#### 4.1.2.1

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_A\_01                         |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 更改设置                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 从控机系统                        |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 住客                              |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 空调已经开启                      |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 用户对更改条件满意                |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 顾客按下不同更改功能的按钮        |
+-----------------------------------+-----------------------------------+
| **2．**                           | 如果顾客打算设置模式，则          |
|                                   | 转扩展用例：设置模式              |
|                                   | UC\_A\_01\_01                     |
|                                   |                                   |
|                                   | 如果顾客打算升高空调，则          |
|                                   | 转扩展用例：升高空调温度          |
|                                   | UC\_A\_01\_02                     |
|                                   |                                   |
|                                   | 如果顾客打算降低温度，则          |
|                                   | 转扩展用例：降低空调温度          |
|                                   | UC\_A\_01\_03                     |
|                                   |                                   |
|                                   | 如果顾客打算调节风速，则          |
|                                   | 转扩展用例：调节风速              |
|                                   | UC\_A\_01\_04                     |
+-----------------------------------+-----------------------------------+
| **3．**                           | 更改目标实现                      |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **2.a**                           | 顾客希望调整风速时候，可以选择风速的大小，如低速、中速、高速 |
+-----------------------------------+-----------------------------------+
| **2.b**                           | 顾客希望调整目标温度时候，可以在当前目标温度的基础上提高或降低目标 |
|                                   | 温                                |
|                                   |                                   |
|                                   | 度                                |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 从控机系统在任意时刻失败          |
|                                   |                                   |
|                                   | （1） 用户重新启动空调            |
|                                   |                                   |
|                                   | （2） 空调系统恢复初始状态        |
+-----------------------------------+-----------------------------------+

**\
**

#### 4.1.2.2

+--------------------------+----------------------------------+
| **用例编号:**            | UC\_A\_01\_01                    |
+--------------------------+----------------------------------+
| **用例名称:**            | 设置模式                         |
+--------------------------+----------------------------------+
| **范围：**               | 从控机系统                       |
+--------------------------+----------------------------------+
| **级别：**               | 子系统目标级别                   |
+--------------------------+----------------------------------+
| **主要参与者:**          | 住客                             |
+--------------------------+----------------------------------+
| **前置条件**             | 空调已经开启，住客想改变空调模式 |
+--------------------------+----------------------------------+
| **后置条件：**           | 模式被更改                       |
+--------------------------+----------------------------------+
| **主要成功场景:**        |
+--------------------------+----------------------------------+
| **1．**                  | 顾客按下模式按钮                 |
+--------------------------+----------------------------------+
| **2．**                  | 切换到下一模式                   |
+--------------------------+----------------------------------+
| **3．**                  | 更改目标实现                     |
+--------------------------+----------------------------------+
| **扩展（或替代流程）: ** |
+--------------------------+----------------------------------+
| **\*.a**                 | 从控机系统在任意时刻失败         |
|                          |                                  |
|                          | （1） 用户重新启动空调           |
|                          |                                  |
|                          | （2） 空调系统恢复初始状态       |
+--------------------------+----------------------------------+

#### 4.1.2.3

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_A\_01\_02                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 升高温度                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 从控机系统                        |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 子系统目标级别                    |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 住客                              |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 空调已经开启，顾客认为送风温度过低 |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 温度被更改                        |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 住客按下温度提升按钮              |
+-----------------------------------+-----------------------------------+
| **2．**                           | 空调显示已改变的目标温度          |
+-----------------------------------+-----------------------------------+
| **3．**                           | 重复步骤 1，直至顾客按下确认按钮  |
|                                   | （一秒内需要按下确认，超过一秒自动向主 |
|                                   |                                   |
|                                   |                                   |
|                                   | 控机传送请求）                    |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 从控机系统在任意时刻失败          |
|                                   |                                   |
|                                   | （1） 用户重新启动空调            |
|                                   |                                   |
|                                   | （2） 空调系统恢复初始状态        |
+-----------------------------------+-----------------------------------+

#### 4.1.2.4

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_A\_01\_03                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 降低温度                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 从控机系统                        |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 子系统目标级别                    |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 住客                              |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 空调已经开启，顾客认为送风温度过高 |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 温度被更改                        |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 住客按下温度降低按钮              |
+-----------------------------------+-----------------------------------+
| **2．**                           | 空调显示已改变的目标温度          |
+-----------------------------------+-----------------------------------+
| **3．**                           | 重复步骤 1，直至顾客按下确认按钮  |
|                                   | （一秒内需要按下确认，超过一秒自动向主 |
|                                   |                                   |
|                                   |                                   |
|                                   | 控机传送请求）                    |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 从控机系统在任意时刻失败          |
|                                   |                                   |
|                                   | （1） 用户重新启动空调            |
|                                   |                                   |
|                                   | （2） 空调系统恢复初始状态        |
+-----------------------------------+-----------------------------------+

#### 4.1.2.5

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_A\_01\_04                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 调节风速                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 从控机系统                        |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 子系统目标级别                    |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 住客                              |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 空调已经开启，顾客认为风速不合适  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 风速被更改                        |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 住客按下风速按钮                  |
+-----------------------------------+-----------------------------------+
| **2．**                           | 空调显示已改变的风速，在低中高之间切换 |
+-----------------------------------+-----------------------------------+
| **3．**                           | 重复步骤 1，直至顾客按下确认按钮  |
|                                   | （一秒内需要按下确认，超过一秒自动向主 |
|                                   |                                   |
|                                   |                                   |
|                                   | 控机传送请求）                    |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 从控机系统在任意时刻失败          |
|                                   |                                   |
|                                   | （1） 用户重新启动空调            |
|                                   |                                   |
|                                   | （2） 空调系统恢复初始状态        |
+-----------------------------------+-----------------------------------+

#### 4.1.2.6

+--------------------------+----------------------------------+
| **用例编号:**            | UC\_A\_02                        |
+--------------------------+----------------------------------+
| **用例名称:**            | 查看信息                         |
+--------------------------+----------------------------------+
| **范围：**               | 从控机系统                       |
+--------------------------+----------------------------------+
| **级别：**               | 用户目标级别                     |
+--------------------------+----------------------------------+
| **主要参与者:**          | 住客                             |
+--------------------------+----------------------------------+
| **前置条件**             | 空调已经开启，顾客想查看空调信息 |
+--------------------------+----------------------------------+
| **后置条件：**           | 用户获得空调信息                 |
+--------------------------+----------------------------------+
| **主要成功场景:**        |
+--------------------------+----------------------------------+
| **1．**                  | 住客按下查看信息按钮             |
+--------------------------+----------------------------------+
| **2．**                  | 空调显示计费，故障，状态等信息   |
+--------------------------+----------------------------------+
| **扩展（或替代流程）: ** |
+--------------------------+----------------------------------+
| **\*.a**                 | 从控机系统在任意时刻失败         |
|                          |                                  |
|                          | （1） 用户重新启动空调           |
|                          |                                  |
|                          | （2） 空调系统恢复初始状态       |
+--------------------------+----------------------------------+

4.2 主控机部分
--------------

### 4.2.1 基本用例

**超级管理员**

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B                             |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 运行中央空调                      |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调未开启                    |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 中央空调正常运行并送风            |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 超级管理员点击开机按钮，中央空调开机 |
+-----------------------------------+-----------------------------------+
| **2．**                           | 计费功能，则转                    |
|                                   | 扩展子用例：计费功能 UC\_B\_01    |
+-----------------------------------+-----------------------------------+
| **3．**                           | 控制功能，则转                    |
|                                   | 扩展子用例：控制功能 UC\_B\_02    |
+-----------------------------------+-----------------------------------+
| **4.**                            | 管理功能，则转                    |
|                                   | 扩展子用例：管理功能 UC\_B\_03    |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调系统在任意时刻失败        |
|                                   |                                   |
|                                   | （1）                             |
|                                   | 中央空调管理员重新启动中央空调    |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统恢复到上次状态，并与各个从控机重新建立连接 |
+-----------------------------------+-----------------------------------+
| **\*.b**                          | 中央空调管理员在任意时刻按下关闭空调按钮 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1）中央空调关闭                 |
+-----------------------------------+-----------------------------------+

**\
**

**普通管理员**

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_04                         |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 生成费用报表                      |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 普通管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 房间从控机已经关闭                |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 顾客退房成功，该房间恢复最初状态  |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 酒店管理用控制面板向中央空调系统输入房间号，并得到中央空调肯定答复 |
+-----------------------------------+-----------------------------------+
| **2．**                           | 中央空调成功生成账单并返回到中央空调显示屏 |
+-----------------------------------+-----------------------------------+
| **3．**                           | 顾客退房成功                      |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+
| **2.a**                           | 中央空调生成账单失败              |
|                                   |                                   |
|                                   | （1）普通管理员重新通过控制面板向中央空调输入房间号，发出请求 |
+-----------------------------------+-----------------------------------+

### 4.2.2 扩展用例

#### 4.2.2.1

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_01                         |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 计费功能                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 计费功能完成                      |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 中央空调管理员按下相应计费功能按钮 |
+-----------------------------------+-----------------------------------+
| **2．**                           | 收费标准设置，                    |
|                                   | 扩展子用例：收费标准设置          |
|                                   | UC\_B\_01\_01                     |
+-----------------------------------+-----------------------------------+
| **3．**                           | 生成费用报表，                    |
|                                   | 扩展子用例：生成费用报表          |
|                                   | UC\_B\_04                         |
+-----------------------------------+-----------------------------------+
| **4.**                            | 中央空调完成费用设置              |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

#### 4.2.2.2

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_02                         |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 控制功能                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 完成从机控制                      |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 中央空调管理员按下相应控制功能按钮 |
+-----------------------------------+-----------------------------------+
| **2．**                           | 读取从机状态，                    |
|                                   | 扩展子用例：读取从机状态          |
|                                   | UC\_B\_02\_01                     |
+-----------------------------------+-----------------------------------+
| **3．**                           | 设置从机， 扩展子用例：设置从机   |
|                                   | UC\_B\_02\_02                     |
+-----------------------------------+-----------------------------------+
| **4.**                            | 中央空调完成费用设置              |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

#### 4.2.2.3

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_03                         |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 管理功能                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 完成管理功能设置                  |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 中央空调管理员按下相应管理功能按钮 |
+-----------------------------------+-----------------------------------+
| **2．**                           | 配置不同权限账户，                |
|                                   | 扩展子用例：配置不同权限账户      |
|                                   | UC\_B\_03\_01                     |
+-----------------------------------+-----------------------------------+
| **3.**                            | 中央空调完成管理功能设置          |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

#### 4.2.2.4

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_01\_01                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 收费标准设置                      |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 子系统目标级别                    |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 完成收费标准设置                  |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 中央空调管理员输入计费标准        |
+-----------------------------------+-----------------------------------+
| **2.**                            | 中央空调完成设置                  |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

**\
**

#### 4.2.2.5

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_02\_01                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 读取从机状态                      |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 子系统目标级别                    |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 管理人员成功查看到空调的整体运行状态 |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 中央空调显示当前的工作模式        |
+-----------------------------------+-----------------------------------+
| **2.**                            | 中央空调显示当前的总功率          |
+-----------------------------------+-----------------------------------+
| **3.**                            | 中央空调显示当前的费率            |
+-----------------------------------+-----------------------------------+
| **4.**                            | 中央空调显示从机工作状态          |
+-----------------------------------+-----------------------------------+
| **5.**                            | 输入某个房间号可以筛选特定房间状态 |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

#### 4.2.2.6

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_02\_02                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 设置从机                          |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 子系统目标级别                    |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 完成对从机各项工作指标设置        |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 输入特定房间号或者全部房间        |
+-----------------------------------+-----------------------------------+
| **2.**                            | 中央空调设置工作模式，温度等等    |
+-----------------------------------+-----------------------------------+
| **3.**                            | 完成设置                          |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

#### 4.2.2.7

+-----------------------------------+-----------------------------------+
| **用例编号:**                     | UC\_B\_03\_01                     |
+-----------------------------------+-----------------------------------+
| **用例名称:**                     | 配置不同权限账户                  |
+-----------------------------------+-----------------------------------+
| **范围：**                        | 中央空调系统                      |
+-----------------------------------+-----------------------------------+
| **级别：**                        | 用户目标级别                      |
+-----------------------------------+-----------------------------------+
| **主要参与者:**                   | 超级管理员                        |
+-----------------------------------+-----------------------------------+
| **前置条件**                      | 中央空调已经开机                  |
+-----------------------------------+-----------------------------------+
| **后置条件：**                    | 配置不同权限账户                  |
+-----------------------------------+-----------------------------------+
| **主要成功场景:**                 |
+-----------------------------------+-----------------------------------+
| **1．**                           | 添加某个账户权限                  |
+-----------------------------------+-----------------------------------+
| **2.**                            | 更改某个账户权限                  |
+-----------------------------------+-----------------------------------+
| **3.**                            | 完成设置                          |
+-----------------------------------+-----------------------------------+
| **扩展（或替代流程）: **          |
+-----------------------------------+-----------------------------------+
| **\*.a**                          | 中央空调和从控机系统在任意时刻失败 |
|                                   |                                   |
|                                   |                                   |
|                                   | （1） 超级管理员重新启动空调      |
|                                   |                                   |
|                                   | （2）                             |
|                                   | 空调系统重新与各个从控机连接，恢复之前的状态 |
|                                   |                                   |
|                                   |                                   |
|                                   | （2a）系统在恢复过程中检测到异常，则空调系统恢复至初始状态 |
+-----------------------------------+-----------------------------------+

5. 领域模型(20分)
==============

5.1 领域模型图
----------

![](media/image5.png){width="7.1347692475940505in"
height="5.038194444444445in"}

5.2 属性描述
--------

  **概念**       **属性**
-------------- ----------------------------------------------------------------------------
  **客户**       登记房间号、身份证号、用户基本信息、消费金额
  **房间空调**   空调状态（风速、模式、温度等）、使用用户
  **中央空调**   工作状态、从机列表、控制面板
  **控制面板**   风速调节旋钮、温度调节旋钮、模式选择按钮
  **显示器**     风速、温度、消费金额、工作状态
  **送风策略**   温度、类型（冷风、热风）、风速
  **控制**       控制的从机、送风策略、调度算法
  **统计**       对应房间号、报表
  **报表**       起始时间、截至时间、房间号、从控机开关次数、温控请求机制时间、温度风速变化
  **计费规则**   模式及其单价、价格计算策略
  **计费**       计费规则、使用情况、房间使用情况
  **查看**       权限、主机以及各从机状态等
  **设置**       权限、主机默认工作状态等
  **账单**       房间号、金额、详单
  **管理员**     ID、密码、权限

6. 系统顺序图(15分)
================

6.1 用例UC\_A系统顺序图
-------------------

![](media/image6.png){width="5.767716535433071in"
height="6.9763779527559056in"}

6.2 用例UC\_A\_01系统顺序图
-----------------------

![](media/image7.png){width="5.767716535433071in"
height="8.496062992125983in"}

6.3 用例UC\_A\_02系统顺序图
-----------------------

![](media/image8.png){width="5.767716535433071in"
height="6.968503937007874in"}

6.4 用例UC\_B系统顺序图
-------------------

![](media/image9.png){width="5.767716535433071in"
height="6.9763779527559056in"}

6.5 用例UC\_B\_01系统顺序图
-----------------------

![](media/image10.png){width="5.767716535433071in"
height="6.968503937007874in"}

6.6 用例UC\_B\_02系统顺序图
-----------------------

![](media/image11.png){width="5.767716535433071in"
height="6.8700787401574805in"}

6.7 用例UC\_B\_02\_01系统顺序图
---------------------------

![](media/image12.png){width="5.767716535433071in"
height="5.574803149606299in"}

6.8 用例UC\_B\_02\_02系统顺序图
------------------------------

![](media/image13.png){width="5.767716535433071in" height="5.566929133858268in"}

6.9 用例UC\_B\_03系统顺序图
----------------------------------------------------------------------------------------------------------

![](media/image14.png){width="5.767716535433071in"
height="4.602362204724409in"}

6.10 用例UC\_B\_04系统顺序图
----------------------------

![](media/image15.png){width="5.767716535433071in"
height="6.9763779527559056in"}

7. 系统操作契约(15分)
==================

7.1 用例UC\_A操作契约
-----------------

+------------+----------------------------------------------------+
| 操作：     | Start the slave computer（）                       |
+============+====================================================+
| 交叉引用： | 使用空调                                           |
+------------+----------------------------------------------------+
| 前置条件： | 1.  中央空调已经开启                               |
|            |                                                    |
|            | 2.  从控机没有打开                                 |
|            |                                                    |
|            | 3.  客户实例已经被创建                             |
+------------+----------------------------------------------------+
| 后置条件： | 1.  一个从机空调实例被创建                         |
|            |                                                    |
|            | 2.  一个温度传感器实例被创建                       |
|            |                                                    |
|            | 3.  一个显示器被创建                               |
|            |                                                    |
|            | 4.  一个控制面板被创建                             |
|            |                                                    |
|            | 5.  客户实例和从机空调建立关联                     |
|            |                                                    |
|            | 6.  客户实例和控制面板建立关联                     |
|            |                                                    |
|            | 7.  从机空调和温度传感器建立关联                   |
|            |                                                    |
|            | 8.  从机空调和显示器建立关联                       |
|            |                                                    |
|            | 9.  从机空调和控制面板建立关联                     |
|            |                                                    |
|            | 10. 温度传感器显示房间的初始温度                   |
|            |                                                    |
|            | 11. 显示器显示初始化风速，温度，消费金额，工作状态 |
|            |                                                    |
|            | 12. 开始送风                                       |
+------------+----------------------------------------------------+

7.2 用例UC\_A\_01的操作契约
-----------------------

+-----------------------------------+-----------------------------------+
| 操作：                            | MakeSettings（）                  |
+===================================+===================================+
| 交叉引用：                        | 更改设置                          |
+-----------------------------------+-----------------------------------+
| 前置条件：                        | 1.  空调已经开启                  |
|                                   |                                   |
|                                   | 2.  客户实例被创建                |
|                                   |                                   |
|                                   | 3.  一个温度传感器实例被创建      |
|                                   |                                   |
|                                   | 4.  一个显示器被创建              |
|                                   |                                   |
|                                   | 5.  一个控制面板被创建            |
|                                   |                                   |
|                                   | 6.  客户实例和从机空调建立关联    |
|                                   |                                   |
|                                   | 7.  客户实例和控制面板建立关联    |
|                                   |                                   |
|                                   | 8.  从机空调和温度传感器建立关联  |
|                                   |                                   |
|                                   | 9.  从机空调和显示器建立关联      |
|                                   |                                   |
|                                   | 10. 从机空调和控制面板建立关联    |
|                                   |                                   |
|                                   | 11. 温度传感器显示房间的初始温度  |
|                                   |                                   |
|                                   | 12. 显示器显示初始化风速，温度，消费金额，工作状态 |
+-----------------------------------+-----------------------------------+
| 后置条件：                        | 1\. 如果顾客打算设置模式，则      |
|                                   | 转扩展用例：设置模式              |
|                                   | UC\_A\_01\_01                     |
|                                   |                                   |
|                                   | 如果顾客打算升高空调，则          |
|                                   | 转扩展用例：升高空调温度          |
|                                   | UC\_A\_01\_02                     |
|                                   |                                   |
|                                   | 如果顾客打算降低温度，则          |
|                                   | 转扩展用例：降低空调温度          |
|                                   | UC\_A\_01\_03                     |
|                                   |                                   |
|                                   | 如果顾客打算调节风速，则          |
|                                   | 转扩展用例：调节风速              |
|                                   | UC\_A\_01\_04                     |
+-----------------------------------+-----------------------------------+

7.3 用例UC\_A\_02操作契约
---------------------

+------------+---------------------------------------------------+
| 操作：     | QueryTheStatus（）                                |
+============+===================================================+
| 交叉引用： | 查看信息                                          |
+------------+---------------------------------------------------+
| 前置条件： | 1.  空调已经开启                                  |
|            |                                                   |
|            | 2.  客户实例被创建                                |
|            |                                                   |
|            | 3.  一个温度传感器实例被创建                      |
|            |                                                   |
|            | 4.  一个显示器被创建                              |
|            |                                                   |
|            | 5.  一个控制面板被创建                            |
|            |                                                   |
|            | 6.  客户实例和从机空调建立关联                    |
|            |                                                   |
|            | 7.  客户实例和控制面板建立关联                    |
|            |                                                   |
|            | 8.  从机空调和温度传感器建立关联                  |
|            |                                                   |
|            | 9.  从机空调和显示器建立关联                      |
|            |                                                   |
|            | 10. 从机空调和控制面板建立关联                    |
|            |                                                   |
|            | 11. 温度传感器显示房间的初始温度                  |
|            |                                                   |
|            | 12.显示器显示初始化风速，温度，消费金额，工作状态 |
+------------+---------------------------------------------------+
| 后置条件： | 1.  控制面板的数据被用户修改                      |
|            |                                                   |
|            | 2.  房间空调接收到用户的访问请求                  |
|            |                                                   |
|            | 3.  房间空调将用户请求的数据显示在显示器上        |
+------------+---------------------------------------------------+

7.4 用例UC\_B操作契约
-----------------

+------------+----------------------------------------+
| 操作：     | StartCentralAirConditioning（）        |
+============+========================================+
| 交叉引用： | 运行中央空调                           |
+------------+----------------------------------------+
| 前置条件： | 1.  中央空调未开启                     |
|            |                                        |
|            | 2.  超级管理员实例                     |
|            |                                        |
|            | 3.  计费规则创建完成                   |
|            |                                        |
|            | 4.  送风策略创建完成                   |
|            |                                        |
|            | 5.  调度算法创建完成                   |
+------------+----------------------------------------+
| 后置条件： | 1.  中央空调被创建                     |
|            |                                        |
|            | 2.  中央空调正常送风                   |
|            |                                        |
|            | 3.  账单被创建                         |
|            |                                        |
|            | 4.  报表被创建，日报表，周报表，月报表 |
|            |                                        |
|            | 5.  中央空调和账单实例相关联           |
|            |                                        |
|            | 6.  中央空调和报表实例相关联           |
|            |                                        |
|            | 7.  计费和送风策略相关联               |
+------------+----------------------------------------+

7.5 用例UC\_B\_01操作契约
---------------------

+-----------------------------------+-----------------------------------+
| 操作：                            | Chargesetting（）                 |
+===================================+===================================+
| 交叉引用：                        | 计费功能                          |
+-----------------------------------+-----------------------------------+
| 前置条件：                        | 1.  中央空调实例被创建            |
|                                   |                                   |
|                                   | 2.  超级管理员实例被创建          |
|                                   |                                   |
|                                   | 3.  收费标准初始化设置被创建      |
|                                   |                                   |
|                                   | 4.  报表初始化被创建              |
|                                   |                                   |
|                                   | 5.  送风策略和调度算法被创建      |
+-----------------------------------+-----------------------------------+
| 后置条件：                        | 1.  计费和送风规则关联，根据送风规则修改计费标准 |
|                                   |                                   |
|                                   |                                   |
|                                   | 2.  使用情况和计费关联，根据使用情况和计费规则来计费 |
|                                   |                                   |
|                                   |                                   |
|                                   | 3.  账单的数据被修改，根据计费算法，完成计费，将账单数据保存在 |
|                                   | 账单中                            |
+-----------------------------------+-----------------------------------+

7.6 用例UC\_B\_02\_01操作契约
-------------------------

+------------+--------------------------------------------------------------+
| 操作：     | GetModule（）                                                |
+============+==============================================================+
| 交叉引用： | 读取从机状态                                                 |
+------------+--------------------------------------------------------------+
| 前置条件： | 1.  中央空调实例被创建                                       |
|            |                                                              |
|            | 2.  超级管理员实例被创建                                     |
|            |                                                              |
|            | 3.  从机空调开启                                             |
|            |                                                              |
|            | 4.  中央空调和从机的关联被创建                               |
|            |                                                              |
|            | 5.  从机正常运行                                             |
+------------+--------------------------------------------------------------+
| 后置条件： | 1.  中央空调查询到从机的工作模式，并将工作模式传回管理员查看 |
|            |                                                              |
|            | 2.  中央空调查看到总的功率，并将总功率传回到管理员查看       |
|            |                                                              |
|            | 3.  中央空调查询到但前的费率，并将费率传回到管理员查看       |
|            |                                                              |
|            | 4.  中央空调查询到从机的工作状态，并将其传回到管理员查看     |
|            |                                                              |
|            | 5.                                                           |
+------------+--------------------------------------------------------------+

7.7 用例UC\_B\_02\_02操作契约
-------------------------

+------------+--------------------------------+
| 操作：     | ChangeTheForm（）              |
+============+================================+
| 交叉引用： | 设置从机                       |
+------------+--------------------------------+
| 前置条件： | 1.  中央空调实例被创建         |
|            |                                |
|            | 2.  超级管理员实例被创建       |
|            |                                |
|            | 3.  从机空调开启               |
|            |                                |
|            | 4.  中央空调和从机的关联被创建 |
|            |                                |
|            | 5.  从机正常运行               |
+------------+--------------------------------+
| 后置条件： | 1.  从机的工作模式属性被修改   |
|            |                                |
|            | 2.  从机的工作状态被修改       |
|            |                                |
|            | 3.  从机的总的功率被修改       |
|            |                                |
|            | 4.  从机温度被修改             |
+------------+--------------------------------+
